plugins {
  // id 'application'
  id 'java'
}

// application {
//   mainClass = 'com.craftinginterpreters.lox.Lox'
// }
//
// run {
//   standardInput = System.in
// }

jar {
  manifest {
    attributes 'Main-Class': 'com.craftinginterpreters.lox.Lox'
  }
}

task genAstJar(type: Jar) {
  from sourceSets.main.output
  archiveClassifier = 'generateAst'
  manifest {
    attributes 'Main-Class': 'com.craftinginterpreters.tool.GenerateAst'
  }
}

task printAst(type: Jar) {
  from sourceSets.main.output
  archiveClassifier = 'printAst'
  manifest {
    attributes 'Main-Class': 'com.craftinginterpreters.lox.AstPrinter'
  }
}

task printRpn(type: Jar) {
  from sourceSets.main.output
  archiveClassifier = 'printRpn'
  manifest {
    attributes 'Main-Class': 'com.craftinginterpreters.lox.RPNPrinter'
  }
}
